<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Loading Course… | BTH Education Group</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Certification course at BTH Education Group. Learn. Certify. Succeed." />

  <!-- Core site stylesheet (your global) -->
  <link rel="stylesheet" href="../styles.css" />

  <style>
    :root{
      --bth-primary:#0052cc;
      --bth-primary-2:#007fff;
      --bth-dark:#0f172a;
      --bth-muted:#64748b;
      --bth-bg:#f8fafc;
      --bth-card:#ffffff;
      --bth-border:#e2e8f0;
      --bth-accent:#10b981;
      --shadow-md:0 10px 30px rgba(2, 6, 23, 0.08);
    }

    /* ===== Top Nav (Sticky) ===== */
    .lms-topbar{
      position: sticky; top:0; z-index: 1000;
      background: rgba(255,255,255,.96);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--bth-border);
    }
    .lms-nav{
      max-width: 1200px; margin: 0 auto; padding: .75rem 1rem;
      display:flex; align-items:center; gap: 1rem; justify-content: space-between;
    }
    .lms-left, .lms-right{display:flex; align-items:center; gap:.75rem;}
    .bth-logo{
      display:flex; align-items:center; gap:.5rem; text-decoration:none;
      font-weight:800; color: var(--bth-dark);
    }
    .bth-logo img{height:28px; width:auto; object-fit:contain}
    .back-link{
      display:inline-flex; align-items:center; gap:.5rem; text-decoration:none;
      color: var(--bth-primary); font-weight:700;
      padding: .4rem .75rem; border:1px solid var(--bth-border); border-radius: 999px;
    }
    .breadcrumbs{
      color: var(--bth-muted); font-size: .9rem;
    }
    .breadcrumbs a{color: var(--bth-muted); text-decoration:none;}
    .breadcrumbs a:hover{color: var(--bth-dark); text-decoration:underline;}

    /* ===== Hero ===== */
    .hero-wrap{
      background: linear-gradient(135deg, var(--bth-primary-2), var(--bth-primary));
      color: #fff; padding: 64px 0 40px; position: relative; overflow:hidden;
    }
    .hero-inner{max-width: 1100px; margin: 0 auto; padding: 0 1.25rem;}
    .vendor-chip{
      display:inline-flex; align-items:center; gap:.5rem;
      background: rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.2);
      padding:.4rem .7rem; border-radius:999px; margin-bottom: .75rem; backdrop-filter: blur(6px);
    }
    .vendor-chip img{height:24px; width:auto; object-fit:contain}
    .hero-title{
      font-size: clamp(1.9rem, 4vw, 3rem); font-weight: 900; letter-spacing:-.02em; margin:.25rem 0 .35rem;
    }
    .hero-subtitle{
      font-size: clamp(1.05rem, 2vw, 1.25rem); color: #eef2ff; max-width: 820px;
    }
    .meta-ribbon{
      display:flex; flex-wrap:wrap; gap:.5rem; margin-top: 1rem;
    }
    .meta-pill{
      background: rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.25);
      color:#fff; padding:.35rem .7rem; border-radius:999px; font-weight:700; font-size:.8rem;
    }

    /* ===== Tabs & Content ===== */
    main{background: var(--bth-bg);}
    .lms-main{
      max-width: 1100px; margin: 0 auto; padding: 24px 1.25rem 96px;
      display:grid; grid-template-columns: 2.2fr 1fr; gap: 2rem;
    }
    @media (max-width: 960px){ .lms-main{grid-template-columns: 1fr;} }

    .card{
      background: var(--bth-card); border:1px solid var(--bth-border);
      border-radius: 16px; box-shadow: var(--shadow-md);
    }
    .pad{padding: 1.25rem;}
    .tabs{display:flex; gap:.5rem; flex-wrap:wrap; padding:.5rem; border-bottom:1px solid var(--bth-border);}
    .tab-btn{
      background:#fff; border:1px solid var(--bth-border);
      padding:.55rem .9rem; border-radius: 999px; font-weight:700; color:var(--bth-dark);
      cursor:pointer;
    }
    .tab-btn[aria-selected="true"]{
      background: #eff6ff; border-color:#bfdbfe; color:#1d4ed8;
    }
    .tab-panel{display:none; padding: 1rem 0 .5rem;}
    .tab-panel.active{display:block;}

    .section-title{font-weight:800; color: var(--bth-dark); margin:.25rem 0 .75rem;}
    .muted{color: var(--bth-muted);}

    /* Outcomes list */
    .learn-list{padding-left: 1rem; line-height: 1.7; color:#111827;}
    .learn-list li{margin-bottom:.4rem;}

    /* Right rail (enroll + syllabus + features) */
    .rail .enroll-cta{display:flex; flex-direction:column; gap:.75rem;}
    .btn-primary{
      display:inline-flex; justify-content:center; align-items:center; gap:.5rem;
      text-decoration:none; background: linear-gradient(135deg, var(--bth-primary-2), var(--bth-primary));
      color:#fff; font-weight:800; padding:.9rem 1rem; border-radius:12px; border:1px solid rgba(0,0,0,.05);
    }
    .btn-secondary{
      display:inline-flex; justify-content:center; align-items:center; gap:.5rem;
      text-decoration:none; background:#fff; color:var(--bth-primary); font-weight:800;
      padding:.8rem 1rem; border-radius:12px; border:2px solid var(--bth-primary);
    }
    .feature-bullets{display:grid; gap:.5rem;}
    .feature-bullets .row{
      display:flex; gap:.5rem; align-items:flex-start; color: var(--bth-muted);
    }

    /* Sticky CTA on scroll */

    /* Interactive demo widgets */
    .progress-wrap{display:flex; align-items:center; gap:.75rem;}
    .progress-bar{height:10px; background:#e5e7eb; border-radius:999px; flex:1; overflow:hidden}
    .progress-fill{height:100%; background: linear-gradient(90deg, #22c55e, #10b981); width: 42%;}
    .quiz-box{border:1px solid var(--bth-border); border-radius:12px; padding:1rem; background:#fff;}
    .quiz-q{font-weight:700; margin-bottom:.5rem;}
    .quiz-opts{display:grid; gap:.5rem;}
    .quiz-opts button{
      text-align:left; padding:.6rem .75rem; border-radius:8px; border:1px solid var(--bth-border); background:#fff; cursor:pointer;
    }
    .quiz-opts button.correct{border-color:#22c55e; background:#ecfdf5;}
    .quiz-opts button.incorrect{border-color:#ef4444; background:#fef2f2;}

    /* Integrations / Analytics / Security strip */
    .cred-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:1rem;}
    .cred-card{border:1px solid var(--bth-border); border-radius:12px; padding:1rem; background:#fff;}

    /* Footer (simplified to match your site) */
    .site-footer{background:#0b1220; color:#cbd5e1; margin-top: 56px;}
    .site-footer .container{max-width:1100px; margin:0 auto; padding:2rem 1.25rem;}
    .footer-grid{display:grid; grid-template-columns: 1.4fr 1fr 1fr 1fr; gap:1.5rem;}
    .footer-links{list-style:none; padding:0; margin:0;}
    .footer-links li{margin:.4rem 0;}
    .footer-links a{color:#cbd5e1; text-decoration:none;}
    .footer-links a:hover{text-decoration:underline;}
    .footer-bottom{border-top:1px solid rgba(148,163,184,.2); margin-top:1rem; padding-top:1rem; color:#94a3b8; font-size:.9rem;}

    /* Accessibility / Motion */
    @media (prefers-reduced-motion: reduce){
      .btn-primary, .btn-secondary, .hero-wrap{animation:none}
    }
    /* === Global Footer (compact, elegant) === */
.site-footer--global{
  background: linear-gradient(90deg, var(--bth-primary), var(--bth-primary-2));
  color:#fff;
  padding:32px 0 26px;
  border-top: 1px solid rgba(255,255,255,0.15);
}
.site-footer--global a{ color:#fff; text-decoration:none; }
.site-footer--global a:hover{ text-decoration:underline; text-underline-offset:2px; }

.site-footer--global .footer-grid{
  display:grid;
  grid-template-columns: 1.1fr 1fr 1fr 1fr;
  gap: 2.25rem;
  align-items:flex-start;
  padding-top: 8px;
  padding-bottom: 6px;
}
.site-footer--global .footer-grid > *:not(:first-child){
  border-left:1px solid rgba(255,255,255,0.18);
  padding-left:1.5rem;
}

.site-footer--global .footer-brand{ max-width:360px; }
.site-footer--global .footer-brand .logo{
  font-weight:900; letter-spacing:-.02em; font-size:1.35rem; display:inline-block; margin-bottom:.35rem; color:#fff;
}
.site-footer--global .footer-brand .logo span{ color:#ffffff; font-weight:900; }
.site-footer--global .footer-brand p{
  color: rgba(255,255,255,0.9);
  font-size: .95rem;
  line-height: 1.5;
  margin: 0;
}

.site-footer--global .footer-section h4{
  font-size:1rem; font-weight:800; margin:0 0 .4rem; letter-spacing:.02em; padding-bottom:.3rem; position:relative; color:#fff;
}
.site-footer--global .footer-section h4::after{
  content:""; display:block; width:28px; height:2px; margin-top:.45rem; border-radius:2px;
  background: linear-gradient(90deg, rgba(255,255,255,.95), rgba(255,255,255,.55));
}
.site-footer--global .footer-links{
  list-style:none; padding:0; margin:.25rem 0 0; display:flex; flex-direction:column; gap:.45rem;
}
.site-footer--global .footer-links a{
  font-size:.95rem; opacity:.95;
}

.site-footer--global .footer-bottom{
  border-top:1px solid rgba(255,255,255,0.15);
  margin-top: 18px;
  padding-top: 14px;
  text-align:center;
  color:#fff;
  opacity:.9;
  font-size:.95rem;
}

@media (max-width:1100px){
  .site-footer--global .footer-grid{
    grid-template-columns: 1.4fr 1fr 1fr;
  }
  .site-footer--global .footer-grid > *:nth-child(4){
    grid-column:1 / -1;
    border-left:0; padding-left:0;
    border-top:1px solid rgba(255,255,255,.15);
    padding-top:1rem; margin-top:.5rem;
  }
}
@media (max-width:800px){
  .site-footer--global .footer-grid{
    grid-template-columns: 1fr 1fr;
    gap:1.5rem 1.25rem;
  }
  .site-footer--global .footer-grid > *{
    border-left:0; padding-left:0;
  }
  .site-footer--global .footer-grid > *:not(:first-child){
    border-top:1px solid rgba(255,255,255,.15);
    padding-top:1rem; margin-top:.5rem;
  }
}
@media (max-width:540px){
  .site-footer--global .footer-grid{ grid-template-columns:1fr; gap:1.1rem; }
}
  </style>

  <!-- JSON-LD is injected dynamically in <script> -->
</head>
<body>

  <!-- ===== Sticky Top Nav ===== -->
  <div class="lms-topbar" role="navigation" aria-label="Course navigation">
    <div class="lms-nav">
      <div class="lms-left">
        <a class="back-link" href="/programs/certificationcourses.html" aria-label="Back to Catalog">← Back to Catalog</a>
        <span class="breadcrumbs">
          <a href="/programs/certificationcourses.html">Catalog</a> <span aria-hidden="true">›</span>
          <span id="crumbVendor">Vendor</span> <span aria-hidden="true">›</span>
          <strong id="crumbCourse">Course</strong>
        </span>
      </div>
      <div class="lms-right">
        <a class="bth-logo" href="/index.html" aria-label="BTH home">
          <img src="../assets/images/vendor-logos/placeholder.svg" alt="" id="topLogo" loading="lazy" />
          <span>BTH Education</span>
        </a>
      </div>
    </div>
  </div>

  <!-- ===== HERO ===== -->
  <header class="hero-wrap">
    <div class="hero-inner">
      <div class="vendor-chip">
        <img id="vendorLogo" alt="Course vendor logo" src="../assets/images/vendor-logos/placeholder.svg" />
        <span id="vendorName" data-vendor-name>Vendor</span>
      </div>
      <h1 class="hero-title" id="courseTitle">Loading…</h1>
      <p class="hero-subtitle" id="heroSubtitle">
        Learn. Certify. Succeed. Industry-recognized certification with hands-on skills and real exam readiness.
      </p>
      <div class="meta-ribbon" id="metaRibbon">
        <span class="meta-pill" id="pillLevel">Level: Fundamental</span>
        <span class="meta-pill" id="pillFormat">Format: Hybrid</span>
        <span class="meta-pill" id="pillDuration">Duration: Self-paced</span>
        <span class="meta-pill" id="pillExam">Exam: Pearson VUE</span>
      </div>
    </div>
  </header>

  <!-- ===== MAIN ===== -->
  <main>
    <div class="lms-main">
      <!-- Left: Tabbed content -->
      <section class="card">
        <div class="tabs" role="tablist" aria-label="Course sections">
          <button class="tab-btn" role="tab" aria-selected="true" aria-controls="tab-overview" id="tabbtn-overview">Overview</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-learn" id="tabbtn-learn">What You’ll Learn</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-syllabus" id="tabbtn-syllabus">Syllabus</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-exam" id="tabbtn-exam">Certification & Exam</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-quiz" id="tabbtn-quiz">Sample Quiz</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-faq" id="tabbtn-faq">FAQ</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="tab-reviews" id="tabbtn-reviews">Reviews</button>
        </div>
        <div class="pad">
          <section id="tab-overview" class="tab-panel active" role="tabpanel" aria-labelledby="tabbtn-overview">
            <h2 class="section-title">Overview</h2>
            <p id="courseDesc" class="muted">This course description will load dynamically based on your selection.</p>

            <!-- Progress Demo -->
            <div class="card pad" style="margin-top:1rem;">
              <h3 class="section-title">Your Progress (Demo)</h3>
              <div class="progress-wrap" aria-label="Demo progress">
                <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
                <span class="muted" id="progressLabel">42%</span>
              </div>
            </div>
          </section>

          <section id="tab-learn" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-learn">
            <h2 class="section-title">What You’ll Learn</h2>
            <ol id="learnList" class="learn-list"></ol>
          </section>

          <section id="tab-syllabus" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-syllabus">
            <h2 class="section-title">Syllabus</h2>
            <div id="syllabusBox" class="muted">A high-level outline of modules and milestones appears here.</div>
            <div style="margin-top:.75rem;">
              <a id="syllabusLink" href="#" class="btn-secondary" target="_blank" rel="noopener">Download Syllabus (PDF)</a>
            </div>
          </section>

          <section id="tab-exam" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-exam">
            <h2 class="section-title">Certification & Exam</h2>
            <ul class="learn-list" id="examList">
              <li>Issuer: <strong id="issuer">—</strong></li>
              <li>Testing: <strong>Pearson VUE</strong> Authorized Network</li>
              <li>Preparation: Practice assessments and real exam objectives</li>
              <li>Recognition: Industry-recognized credential for careers</li>
            </ul>
          </section>

          <section id="tab-quiz" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-quiz">
            <h2 class="section-title">Sample Quiz (3 questions)</h2>
            <div class="quiz-box">
              <div class="quiz-q" id="qText">Loading…</div>
              <div class="quiz-opts" id="qOpts"></div>
            </div>
          </section>

          <section id="tab-faq" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-faq">
            <h2 class="section-title">FAQ</h2>
            <details><summary>How long do I have access?</summary><p class="muted">Access is self-paced with recommended timelines. Extensions available.</p></details>
            <details><summary>Is there mentoring?</summary><p class="muted">Yes—hybrid delivery includes online instruction plus real-world mentorship.</p></details>
            <details><summary>Do I get a certificate?</summary><p class="muted">You prepare for and earn the vendor’s official certification (e.g., Certiport, CompTIA, EC-Council, AWS, etc.).</p></details>
          </section>

          <section id="tab-reviews" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-reviews">
            <h2 class="section-title">What learners say</h2>
            <div class="cred-grid">
              <div class="cred-card">“Clear path to the exam. The lab tasks and practice items mirrored the real objectives.” — <strong>Amina</strong></div>
              <div class="cred-card">“Great mix of videos, tasks, and checkpoints. I felt confident on test day.” — <strong>Daniel</strong></div>
              <div class="cred-card">“Mentorship made all the difference for me landing a role.” — <strong>Tariq</strong></div>
            </div>
          </section>
        </div>
      </section>

      <!-- Right: Rail -->
      <aside class="rail" aria-label="Enrollment and features">
        <section class="card pad enroll-cta" style="position:sticky; top:88px;">
          <div>
            <div class="muted" style="font-weight:700;">Enroll today</div>
            <h3 id="railTitle" class="section-title" style="margin:.25rem 0 .5rem;">Course title</h3>
          </div>
          <a id="enrollBtn" href="#" class="btn-primary" data-cta="enroll">Enroll Now</a>
          <a id="infoCallBtn" href="/coursecontact.html" class="btn-secondary" data-cta="info-call">Book Info Call</a>
          <a id="askBtn" href="/support.html" class="btn-secondary" data-cta="ask">Ask a Question</a>

          <div class="feature-bullets" style="margin-top:.75rem;">
            <div class="row">✅ Hybrid learning: online + mentorship</div>
            <div class="row">✅ Hands-on tasks and practice exams</div>
            <div class="row">✅ Exam objectives mapped to content</div>
            <div class="row">✅ Pearson VUE testing network</div>
          </div>
        </section>

        <section class="card pad" style="margin-top:1rem;">
          <h3 class="section-title">Integrations & Analytics</h3>
          <div class="cred-grid">
            <div class="cred-card">Works with: Zoom / Teams / Slack</div>
            <div class="cred-card">Tracks: Progress, time-on-task, scores</div>
            <div class="cred-card">Standards: SCORM / xAPI</div>
            <div class="cred-card">Security: GDPR-aligned, data minimization</div>
          </div>
        </section>
      </aside>
    </div>
  </main>


  <!-- Footer (mirrors your site’s structure; adjust links as needed) -->
  <!-- FOOTER -->
<footer class="site-footer site-footer--global" role="contentinfo">
  <div class="container">
    <div class="footer-grid">
      <div class="footer-brand">
        <a href="/index.html" class="logo">BTH <span>Education Group</span></a>
        <p>Global education investment across Family Education, PECE, OEDP, Investment Education &amp; Franchises.</p>
      </div>
      <div class="footer-section">
        <h4>Education Investment Programs</h4>
        <ul class="footer-links">
          <li><a href="/program.html">OEDP – Workforce Development</a></li>
          <li><a href="/pece.html">PECE – Family Education</a></li>
          <li><a href="/investor-education.html">Investment Education</a></li>
          <li><a href="/franchises.html">Education Franchises</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Company</h4>
        <ul class="footer-links">
          <li><a href="/about.html">About BTH</a></li>
          <li><a href="/partners.html">Partners</a></li>
          <li><a href="/careers.html">Careers</a></li>
          <li><a href="/contact.html">General Contact</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Help &amp; Support</h4>
        <ul class="footer-links">
          <li><a href="/support.html">Support</a></li>
          <li><a href="/coursecontact.html">Course Contact</a></li>
          <li><a href="/faq.html">FAQs</a></li>
          <li><a href="/policies.html">Policies</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 BTH Education Group. Learn • Certify • Work • Earn.</p>
    </div>
  </div>
</footer>

  <!-- ===== DATA + LOGIC ===== -->
  <script>
  /* ---- Minimal course dataset (extend from your catalog as needed) ---- */
  const COURSES = {
    "adobe": { title:"Adobe Certified Professional", vendor:"Certiport", level:"Fundamental",
      description:"Certification across Photoshop, Illustrator, InDesign, Premiere Pro, After Effects and more—prove creative mastery.",
      outcomes:["Design workflows","Image & video editing","Brand assets","Exam readiness"], sku:"adobe",
      syllabus:["Module 1: Creative Suite foundations","Module 2: Raster & vector workflows","Module 3: Layout & motion basics","Capstone & exam prep"],
      issuer:"Certiport", duration:"Self-paced", format:"Hybrid", syllabusPdf:"../assets/syllabi/adobe.pdf"
    },
    "comptia-techplus": { title:"CompTIA Tech+", vendor:"CompTIA", level:"Fundamental",
      description:"Essential IT knowledge: devices, OS, networking, security, troubleshooting—ideal first credential.",
      outcomes:["Device & OS basics","Networking & security","Troubleshooting","Helpdesk readiness"], sku:"comptia-techplus",
      syllabus:["Devices & OS","Networking fundamentals","Security fundamentals","Troubleshooting & labs","Exam prep"],
      issuer:"CompTIA", duration:"6–8 weeks", format:"Hybrid", syllabusPdf:"../assets/syllabi/comptia-techplus.pdf"
    },
    "cscu": { title:"Certified Secure Computer User (CSCU)", vendor:"EC-Council", level:"Fundamental",
      description:"End-user cybersecurity hygiene: safe browsing, phishing, identity, and device protection.",
      outcomes:["Threat awareness","Safe practices","Identity protection","Incident basics"], sku:"cscu",
      syllabus:["Security hygiene","Safe browsing","Email & identity","Device protection","Exam prep"],
      issuer:"EC-Council", duration:"2–4 weeks", format:"Online", syllabusPdf:"../assets/syllabi/cscu.pdf"
    },
    "welding1": { title:"Welding Fundamentals I", vendor:"AWS", level:"Fundamental",
      description:"Intro to welding processes, safety, and equipment—perfect on-ramp to skilled trades.",
      outcomes:["Safety","Processes overview","Equipment basics","Shop readiness"], sku:"welding1",
      syllabus:["Safety protocols","Processes & materials","Equipment basics","Shop readiness tasks"],
      issuer:"AWS", duration:"3–5 weeks", format:"Hybrid", syllabusPdf:"../assets/syllabi/welding1.pdf"
    },
    "eta-css": { title:"ETA CSS — Customer Service Specialist", vendor:"ETA International", level:"Professional",
      description:"Professional customer service certification focused on communication, empathy, process, and conflict resolution.",
      outcomes:["Customer communication","Service quality","Complaint handling","CX metrics"], sku:"eta-css",
      syllabus:["Customer communication","Service operations","Quality & metrics","Exam readiness"],
      issuer:"ETA International", duration:"4–6 weeks", format:"Online", syllabusPdf:"../assets/syllabi/eta-css.pdf"
    }
  };

  /* ---- Utilities ---- */
  function getParam(name){ const u=new URL(window.location.href); return u.searchParams.get(name); }

  /* Prefer SVG; fallback to PNG on error */
  function enableSvgPngFallback(root=document){
    const imgs = root.querySelectorAll('img[src$=".svg"]');
    imgs.forEach(img=>{
      function onErr(){
        img.removeEventListener('error', onErr);
        const src = img.getAttribute('src');
        if(src && /\.svg(\?.*)?$/i.test(src)){
          img.setAttribute('src', src.replace(/\.svg(\?.*)?$/i, '.png$1'));
        }
      }
      img.addEventListener('error', onErr, { once:true });
    });
  }
  function preferSvgOverPng(root=document){
    const imgs = root.querySelectorAll('img[src*="/vendor-logos/"][src$=".png"]');
    imgs.forEach(img=>{
      const src = img.getAttribute('src'); if(!src) return;
      img.setAttribute('src', src.replace(/\.png(\?.*)?$/i, '.svg$1'));
    });
  }
  function logoFor(vendor){
    const map = {
      'certiport':'certiport.svg',
      'eta':'eta.svg',
      'comptia':'comptia.svg',
      'ec-council':'eccouncil.svg',
      'eccouncil':'eccouncil.svg',
      'aws':'aws.svg',
      'adobe':'adobe.svg',
      'autodesk':'autodesk.svg',
      'apple':'apple.svg',
      'cisco':'cisco.svg',
      'meta':'meta.svg',
      'unity':'unity.svg',
      'pmi':'pmi.svg',
      'microsoft':'microsoft.svg'
    };
    const key = (vendor||'').toLowerCase().replace(/&amp;|&/g,'and').replace(/\s+/g,'-');
    const file = map[key] || `${key}.svg`;
    return `../assets/images/vendor-logos/${file}`;
  }

  function setText(id, v){ const el=document.getElementById(id); if(el) el.textContent = v; }
  function setHref(id, href){ const el=document.getElementById(id); if(el && href) el.setAttribute('href', href); }

  /* ---- Tabs ---- */
  function initTabs(){
    const tabs = document.querySelectorAll('.tab-btn');
    const panels = document.querySelectorAll('.tab-panel');
    tabs.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        tabs.forEach(t=>t.setAttribute('aria-selected','false'));
        panels.forEach(p=>p.classList.remove('active'));
        btn.setAttribute('aria-selected','true');
        const target = document.getElementById(btn.getAttribute('aria-controls'));
        if(target) target.classList.add('active');
        // Update URL hash for deep-linking
        const id = btn.getAttribute('aria-controls');
        if (id) history.replaceState(null, '', '#' + id.replace('tab-', ''));
      });
    });
    // Activate tab based on hash (e.g., #learn, #syllabus)
    const hash = (location.hash || '').replace('#','');
    if (hash) {
      const targetPanel = document.getElementById('tab-' + hash);
      const targetBtn = document.querySelector('.tab-btn[aria-controls="tab-' + hash + '"]');
      if (targetPanel && targetBtn) {
        document.querySelectorAll('.tab-btn').forEach(t => t.setAttribute('aria-selected','false'));
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
        targetBtn.setAttribute('aria-selected','true');
        targetPanel.classList.add('active');
      }
    }
  }


  /* ---- Sample Quiz ---- */
  const SAMPLE_QUIZ = [
    { q:"Which option best describes hybrid learning?",
      opts:["Only in-person classes","Only self-paced videos","Mix of online instruction + real-world mentorship","Recorded webinars only"], a:2 },
    { q:"Which network delivers high-stakes IT exams in our ecosystem?",
      opts:["Prometric","Pearson VUE","Kryterion","In-house only"], a:1 },
    { q:"What’s the primary value of certification?",
      opts:["Random badge","Industry-recognized validation of skills","Only academic credit","Company swag"], a:1 },
  ];
  function initQuiz(){
    const qText = document.getElementById('qText');
    const qOpts = document.getElementById('qOpts');
    if(!qText || !qOpts) return;
    let idx=0;
    renderQ();
    function renderQ(){
      const item = SAMPLE_QUIZ[idx];
      qText.textContent = `Q${idx+1}. ${item.q}`;
      qOpts.innerHTML = '';
      item.opts.forEach((opt, i)=>{
        const b = document.createElement('button');
        b.textContent = opt;
        b.addEventListener('click', ()=>{
          if(i===item.a){ b.classList.add('correct'); } else { b.classList.add('incorrect'); }
          setTimeout(()=>{ idx=(idx+1)%SAMPLE_QUIZ.length; renderQ(); }, 900);
        });
        qOpts.appendChild(b);
      });
    }
  }

  /* ---- JSON-LD injection ---- */
  function injectJsonLd(course){
    try{
      const data = {
        "@context":"https://schema.org",
        "@type":"Course",
        "name": course.title,
        "description": course.description,
        "provider":{
          "@type":"Organization",
          "name": course.vendor,
          "sameAs":"https://btheducationgroup.org" // adjust if you have vendor pages
        },
        "hasCourseInstance":{
          "@type":"CourseInstance",
          "courseMode": course.format || "Online",
          "inLanguage": "en",
          "offers":{
            "@type":"Offer",
            "url": document.getElementById('enrollBtn')?.href || location.href,
            "priceCurrency":"USD",
            "availability":"https://schema.org/InStock"
          }
        }
      };
      const s = document.createElement('script');
      s.type = 'application/ld+json';
      s.text = JSON.stringify(data);
      document.head.appendChild(s);
    }catch(e){}
  }

  /* ---- Render ---- */
  function render(){
    const key = (getParam('course') || '').toLowerCase();
    const c = COURSES[key];

    // Top/breadcrumbs
    setText('crumbVendor', c ? c.vendor : 'Vendor');
    setText('crumbCourse', c ? c.title : 'Course');

    // Hero
    const title = c ? c.title : 'Certification Course';
    setText('courseTitle', title);
    document.title = (c ? `${c.title} | ${c.vendor} Certification | BTH Education Group` : 'Certification Course | BTH');

    const subtitle = c ? c.description : 'Select a course from the catalog.';
    setText('heroSubtitle', subtitle);

    // Vendor chip + logo
    const vendorLogo = document.getElementById('vendorLogo');
    const vendorName = document.getElementById('vendorName');
    if(vendorName) vendorName.textContent = c ? c.vendor : 'Vendor';
    if(vendorLogo){
      vendorLogo.setAttribute('src', logoFor(c ? c.vendor : 'vendor'));
      vendorLogo.addEventListener('error', function once(){
        vendorLogo.removeEventListener('error', once);
        const src = vendorLogo.getAttribute('src');
        if(src) vendorLogo.setAttribute('src', src.replace(/\.svg(\?.*)?$/i, '.png$1'));
      }, { once:true });
    }

    // Meta ribbon pills
    setText('pillLevel', 'Level: ' + (c?.level || 'Fundamental'));
    setText('pillFormat', 'Format: ' + (c?.format || 'Hybrid'));
    setText('pillDuration', 'Duration: ' + (c?.duration || 'Self-paced'));
    setText('pillExam', 'Exam: ' + (c?.issuer ? `${c.issuer} via Pearson VUE` : 'Pearson VUE'));

    // Overview + outcomes
    setText('courseDesc', c ? c.description : 'We couldn’t find this course key.');
    const learnList = document.getElementById('learnList');
    if(learnList){
      learnList.innerHTML = '';
      (c?.outcomes || []).forEach(item=>{
        const li = document.createElement('li'); li.textContent = item; learnList.appendChild(li);
      });
    }

    // Syllabus
    const syllabusBox = document.getElementById('syllabusBox');
    if(syllabusBox){
      const list = (c?.syllabus || ['Module 1','Module 2','Module 3']);
      syllabusBox.innerHTML = '<ol style="padding-left:1rem;">' + list.map(x=>`<li>${x}</li>`).join('') + '</ol>';
    }
    setHref('syllabusLink', c?.syllabusPdf || '#');

    // Exam issuer
    setText('issuer', c?.issuer || '—');

    // Rail CTA
    setText('railTitle', title);
    const enrollHref = '/payment.html?sku=' + encodeURIComponent(c?.sku || 'catalog');
    setHref('enrollBtn', enrollHref);

    // Top logo (can point to your real logo)
    const topLogo = document.getElementById('topLogo');
    if(topLogo) topLogo.setAttribute('src','../assets/images/vendor-logos/placeholder.svg');
    // Ensure critical nav links are absolute and not dummies
    setHref('infoCallBtn', '/coursecontact.html');
    setHref('askBtn', '/support.html');

    // Inject JSON-LD
    if(c) injectJsonLd(c);
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    preferSvgOverPng(document);
    enableSvgPngFallback(document);
    initTabs();
    initQuiz();
    render();
  });
  </script>
</body>
</html>